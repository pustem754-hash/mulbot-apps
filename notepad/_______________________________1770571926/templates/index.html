<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ–π –±–ª–æ–∫–Ω–æ—Ç</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üìù –ú–æ–π –±–ª–æ–∫–Ω–æ—Ç</h1>
            <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º–∏ –∑–∞–º–µ—Ç–∫–∞–º–∏</p>
        </header>

        <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏ -->
        <div class="add-note-section">
            <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–º–µ—Ç–∫—É</h2>
            <form id="noteForm">
                <div class="form-group">
                    <label for="noteTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫:</label>
                    <input type="text" id="noteTitle" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–º–µ—Ç–∫–∏..." required>
                </div>
                <div class="form-group">
                    <label for="noteContent">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:</label>
                    <textarea id="noteContent" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏..." required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">
                    <span id="submitText">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É</span>
                </button>
                <button type="button" id="cancelEdit" class="btn btn-secondary" style="display: none;">
                    –û—Ç–º–µ–Ω–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
                </button>
            </form>
        </div>

        <!-- –ü–æ–∏—Å–∫ –∑–∞–º–µ—Ç–æ–∫ -->
        <div class="search-section">
            <input type="text" id="searchInput" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –∑–∞–º–µ—Ç–∫–∞–º...">
        </div>

        <!-- –°–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫ -->
        <div class="notes-section">
            <h2>–ú–æ–∏ –∑–∞–º–µ—Ç–∫–∏ (<span id="notesCount">{{ notes|length }}</span>)</h2>
            <div id="notesList">
                {% if notes %}
                    {% for note in notes %}
                    <div class="note-card" data-id="{{ note.id }}">
                        <div class="note-header">
                            <h3 class="note-title">{{ note.title }}</h3>
                            <div class="note-actions">
                                <button onclick="editNote({{ note.id }})" class="btn-icon edit-btn" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                                    ‚úèÔ∏è
                                </button>
                                <button onclick="deleteNote({{ note.id }})" class="btn-icon delete-btn" title="–£–¥–∞–ª–∏—Ç—å">
                                    üóëÔ∏è
                                </button>
                            </div>
                        </div>
                        <p class="note-content">{{ note.content }}</p>
                        <div class="note-date">
                            –°–æ–∑–¥–∞–Ω–æ: {{ note.created_at }}
                            {% if note.updated_at %}
                            <br>–û–±–Ω–æ–≤–ª–µ–Ω–æ: {{ note.updated_at }}
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <div class="empty-state">
                        <p>üìù –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–º–µ—Ç–æ–∫</p>
                        <p>–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é –∑–∞–º–µ—Ç–∫—É!</p>
                    </div>
                {% endif %}
            </div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div id="notification" class="notification"></div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>